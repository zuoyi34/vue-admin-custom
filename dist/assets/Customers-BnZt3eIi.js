import{d as b,h as i,k as w,f as h,o as u,e as y,p as k,q as C,c as g,w as n,l as d,r as s,a,b as x}from"./index-BOq2KnRS.js";const V=b({__name:"Customers",setup(B){const c=i([]),o=i(!1);async function r(){o.value=!0;try{const e=await d.get("/customers");c.value=e.data||[]}catch(e){console.error(e)}finally{o.value=!1}}async function m(e){try{await d.delete(`/customers/${e}`),r()}catch(t){console.error(t)}}return w(r),(e,t)=>{const l=s("el-table-column"),_=s("el-button"),p=s("el-table"),f=C("loading");return u(),h("div",null,[t[1]||(t[1]=y("h3",null,"客户管理",-1)),k((u(),g(p,{data:c.value,style:{width:"100%"}},{default:n(()=>[a(l,{prop:"id",label:"ID",width:"100"}),a(l,{prop:"name",label:"名称"}),a(l,{label:"操作",width:"140"},{default:n(({row:v})=>[a(_,{size:"small",type:"danger",onClick:D=>m(v.id)},{default:n(()=>[...t[0]||(t[0]=[x("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[f,o.value]])])}}});export{V as default};
