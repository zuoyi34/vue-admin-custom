import{d as C,s as B,h as o,k as D,f as u,o as d,a as t,e as v,w as a,r as i,t as b,u as N,l as c,b as F,F as A,m as E}from"./index-BHZT7A5w.js";const L={key:0},M={key:1},R=["src"],j=C({__name:"DeviceDetail",setup(S){const l=B().params.id,f=o("info"),g=o(null),h=o([]),y=o([]),p=o([]),k=o(null),w=o([]);async function $(){try{const e=await c.get(`/device/${l}`);g.value=e.data}catch(e){console.error(e)}try{const e=await c.get(`/devices/${l}/contacts`);h.value=e.data||[]}catch(e){console.error(e)}try{const e=await c.get(`/devices/${l}/messages`);y.value=e.data||[]}catch(e){console.error(e)}try{const e=await c.get(`/devices/${l}/photos`);p.value=e.data||[]}catch(e){console.error(e)}try{const e=await c.get(`/devices/${l}/location`);k.value=e.data||null}catch(e){console.error(e)}try{const e=await c.get(`/devices/${l}/apps`);w.value=e.data||[]}catch(e){console.error(e)}}return D($),(e,n)=>{const x=i("el-button"),s=i("el-tab-pane"),_=i("el-table-column"),m=i("el-table"),V=i("el-tabs");return d(),u("div",null,[t(x,{onClick:n[0]||(n[0]=r=>e.$router.back())},{default:a(()=>[...n[2]||(n[2]=[F("返回",-1)])]),_:1}),v("h3",null,"设备 "+b(N(l))+" 详情",1),t(V,{modelValue:f.value,"onUpdate:modelValue":n[1]||(n[1]=r=>f.value=r)},{default:a(()=>[t(s,{name:"info",label:"设备信息"},{default:a(()=>[v("pre",null,b(g.value),1)]),_:1}),t(s,{name:"contacts",label:"联系人"},{default:a(()=>[t(m,{data:h.value},{default:a(()=>[t(_,{prop:"name",label:"姓名"})]),_:1},8,["data"])]),_:1}),t(s,{name:"messages",label:"消息"},{default:a(()=>[t(m,{data:y.value},{default:a(()=>[t(_,{prop:"text",label:"内容"})]),_:1},8,["data"])]),_:1}),t(s,{name:"photos",label:"照片"},{default:a(()=>[p.value.length===0?(d(),u("div",L,"无照片")):(d(),u("div",M,[(d(!0),u(A,null,E(p.value,r=>(d(),u("img",{src:r.url,key:r.url,style:{height:"120px",margin:"6px"}},null,8,R))),128))]))]),_:1}),t(s,{name:"location",label:"定位"},{default:a(()=>[v("pre",null,b(k.value),1)]),_:1}),t(s,{name:"apps",label:"应用"},{default:a(()=>[t(m,{data:w.value},{default:a(()=>[t(_,{prop:"name",label:"应用名"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])])}}});export{j as default};
